{
    "componentChunkName": "component---src-templates-blog-post-jsx",
    "path": "/posts/xfce-panel-slack-window-icon/",
    "result": {"data":{"mdx":{"slug":"xfce-panel-slack-window-icon/","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"¿Cómo arreglar el icono de Slack en Debian - XFCE?\",\n  \"date\": \"2021-04-22\",\n  \"description\": \"Lorem ipsum\",\n  \"tags\": [\"linux\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Por un tiempo me ha estado molestando mucho que algunas aplicaciones (\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://slack.com/intl/en-bo/downloads/linux\"\n  }, \"Slack\"), \", \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/jhen0409/react-native-debugger\"\n  }, \"React-Native Debugger\"), \" y algunas otras instaladas con \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".deb\"), \") se vean sin icono en el panel de programas de XFCE.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"358px\",\n      \"marginBlock\": \"1rem\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/b465d15f4d1a95b12c42b573c0fe3a57/39185/window-panel.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"9.333333333333334%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAeklEQVQI1wXByQ6CMBAAUL5GDaClG22nQ1cgxpQmRKMXEw8e/f+77zUbdcOoy17jbfu+1O+DLdMQ5/p8w+Ssj9IAhuTz7FLmymCI6OOh7S9cNsBNz0S6rjYvdSWPwk+DNC6U/c5GpSwSLqhQ2k4aJ8KF0CANHLtzR+gfFzEcWDmYnVUAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Panel de XFCE con icono faltante de Slack\",\n    \"title\": \"Panel de XFCE con icono faltante de Slack\",\n    \"src\": \"/static/b465d15f4d1a95b12c42b573c0fe3a57/39185/window-panel.png\",\n    \"srcSet\": [\"/static/b465d15f4d1a95b12c42b573c0fe3a57/5a46d/window-panel.png 300w\", \"/static/b465d15f4d1a95b12c42b573c0fe3a57/39185/window-panel.png 358w\"],\n    \"sizes\": \"(max-width: 358px) 100vw, 358px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Al parecer es un bug de la aplicaci\\xF3n en si o quizas algo con las aplicaciones Electr\\xF3n en Debian, incluso pasa cuando se instala con SnapStore. De cualquier manera me molesta.\"), mdx(\"p\", null, \"Me pas\\xE9 un buen rato investigando y el item \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.xfce.org/xfce/xfce4-panel/4.12/tasklist\"\n  }, \"Window Buttons\"), \" obtiene su configuracion mediante los archivos \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".desktop\"), \" de los diferentes programas. Buscando este archivo de Slack da como resultado:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ sudo find / -iname \\\"*slack*.desktop\\\"\\n\\n# Output\\n/home/veuge/.config/autostart/slack.desktop\\n/usr/share/applications/slack.desktop\\n\")), mdx(\"p\", null, \"El archivo en el directorio \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$HOME/.config/autostart\"), \" es un symlink del de \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/usr/share/applications\"), \", entonces con arreglar este es suficiente. El contenido de este \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".desktop\"), \" es:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ cat /usr/share/applications/slack.desktop\\n\\n# Output\\n[Desktop Entry]\\nName=Slack\\nStartupWMClass=Slack\\nComment=Slack Desktop\\nGenericName=Slack Client for Linux\\nExec=/usr/bin/slack %U\\nIcon=/usr/share/pixmaps/slack.png\\nType=Application\\nStartupNotify=true\\nCategories=GNOME;GTK;Network;InstantMessaging;\\nMimeType=x-scheme-handler/slack;\\n\")), mdx(\"p\", null, \"La linea interesante aqui es \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Icon=/usr/share/pixmaps/slack.png\"), \", el archivo de imagen especificado es totalmente v\\xE1lido, existe y tiene permisos correctos.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ ls -l /usr/share/pixmaps/slack.png\\n\\n# Output\\n-rw-rw-r-- 1 root root 38884 Mar 15 20:12 /usr/share/pixmaps/slack.png\\n\")), mdx(\"p\", null, \"Como parece que todo anda bien en la configuraci\\xF3n pareciera que es un bug en aplicaciones de \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.electronjs.org/\"\n  }, \"ElectronJS\"), \", as\\xED que debe haber alguna otra manera de arreglar esto. Por suerte encontr\\xE9 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.reddit.com/r/xfce/comments/g3m4zk/icon_absent_for_snap_package_installed/\"\n  }, \"esta\"), \" discusi\\xF3n, como dice el segundo comentario la soluci\\xF3n o workaround es modificar el icono una vez que est\\xE9 abierta la aplicaci\\xF3n, para esto se siguen dos pasos\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Obtener el ID de la ventana de Slack utilizando \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"xwininfo\"), \".\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Actualizar el icono de la ventana utilizando el ID con \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"xseticon\"), \".\")), mdx(\"p\", null, \"Siguiendo estos pasos manualmente el proceso es:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ xwininfo -root -tree | sed -e 's/^ *//'| grep -E '0x.*Slack\\\\s{1}\\\\|' | awk '{print $1}'\\n\\n# Output\\n0x4400005\\n\\n$ xseticon -id 0x4400005 /usr/share/pixmaps/slack.png\\n\")), mdx(\"p\", null, \"Una vez se ejecuta el comando \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"xtseticon\"), \" el resultado es:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"369px\",\n      \"marginBlock\": \"1rem\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/be7703efd90f2a358404b77e2abbe573/e0cdb/window-panel-after.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"8.666666666666668%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAeUlEQVQI1wXBSw6CMBAAUE7DAkuaMkw77fSjlKJBQ9RETWTZI3j/xPcaqen62PJt25/0q9wjI4e9Vo5Hnybt2PqYckl5NhxG605lkYBtJ8D5RgBOlyWU8zqr7304AIGmz/sFxhr2CrUcRu3YhQiaJCD50CtoOyHR/AElwxx5FU01KwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Panel de XFCE con icono válido de Slack\",\n    \"title\": \"Panel de XFCE con icono válido de Slack\",\n    \"src\": \"/static/be7703efd90f2a358404b77e2abbe573/e0cdb/window-panel-after.png\",\n    \"srcSet\": [\"/static/be7703efd90f2a358404b77e2abbe573/5a46d/window-panel-after.png 300w\", \"/static/be7703efd90f2a358404b77e2abbe573/e0cdb/window-panel-after.png 369w\"],\n    \"sizes\": \"(max-width: 369px) 100vw, 369px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Obviamente como dice la discusi\\xF3n en Reddit, no es optimo seguir ese proceso manualmente cada que se abre Slack (o cualquier otra aplicaci\\xF3n con este problema), entonces la manera de actualizar es modificando el parametro \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Exec\"), \" en \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/usr/share/applications/slack.desktop\"), \" para modificar el icono cuando hay la certeza que Slack ha iniciado.\"), mdx(\"p\", null, \"Para esto el repliqu\\xE9 el proceso descrito en \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.reddit.com/r/xfce/comments/g3m4zk/icon_absent_for_snap_package_installed/fnvijl2?utm_source=share&utm_medium=web2x&context=3\"\n  }, \"este comentario\"), \" dentro de un \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/Veuge/Configuration-files/blob/master/slack-init.sh\"\n  }, \"script\"), \", y finalmente ese script ejecutarlo en \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"slack.desktop\"), \".\"), mdx(\"p\", null, \"Desglosando el script:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"# Permite sobreescribir el .desktop\\nenv BAMF_DESKTOP_FILE_HINT=$SLACK_DESKTOP\\n\\n# Comando que abre Slack minimizado y sin output\\n/usr/bin/slack -u %U & > /dev/null\\n\\n# Pausa para esperar que Slack inicie\\nsleep 10\\n\\n# Obtiene window ID de Slack y lo guarda en la variable app_wid\\napp_wid=$(xwininfo -root -tree |sed -e 's/^ *//'|grep -E '0x.*Slack\\\\s{1}\\\\|' | awk '{print $1}')\\n\\n# Actualiza el \\xEDcono dado el window ID y el icono en png.\\nxseticon -id $app_wid $SLACK_ICON\\n\")), mdx(\"p\", null, \"Y utilizando el script en el archivo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".desktop\"), \" en \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Exec\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"[Desktop Entry]\\nName=Slack\\nStartupWMClass=Slack\\nComment=Slack Desktop\\nGenericName=Slack Client for Linux\\nExec=sh -c /home/veuge/slack-init.sh\\nIcon=/usr/share/pixmaps/slack.png\\nType=Application\\nStartupNotify=true\\nCategories=GNOME;GTK;Network;InstantMessaging;\\nMimeType=x-scheme-handler/slack;\\n\")), mdx(\"h2\", null, \"Conclusi\\xF3n\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Esta soluci\\xF3n es solo un workaround para restaurar el icono de Slack y otras aplicaciones en XFCE, idealmente se deberia determinar exactamente la razon por la cual el icono no est\\xE1 disponible.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"El workaround funciona bien cuando se inicia manualmente Slack y cuando est\\xE1 entre la aplicacion que se auto-inician al iniciar sesi\\xF3n.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Se puede mejorar el script para hacerlo mas configurable para que sea extensible a otras aplicaciones con este error en el \\xEDcono. (Lo har\\xE9 en algun momento...)\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"date":"22 abril 2021","title":"¿Cómo arreglar el icono de Slack en Debian - XFCE?","description":"Lorem ipsum","tags":["linux"]}}},"pageContext":{"slug":"xfce-panel-slack-window-icon/"}},
    "staticQueryHashes": ["3665178171"]}